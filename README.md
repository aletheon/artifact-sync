# Artifact Sync

**Artifact Sync** is a Chrome Extension designed to automatically capture and archive the creative outputs ("artifacts") from your AI coding sessions. It listens to conversations on supported AI platforms and saves prompts, responses, attachments, and visual artifacts (like images or diagrams) directly to your **Google Drive** or **Local File System**.

## ğŸš€ Features

*   **Automatic Archiving**: Saves every turn of your conversation (user prompt + AI response) as it happens.
*   **Multi-Provider Support**: Currently supports **Google Gemini** and **ChatGPT**.
*   **Artifact Capture**: Automatically scrapes and saves images generated by the AI (e.g., diagrams, generated UI mockups).
*   **Flexible Storage**:
    *   **Google Drive**: Saves organized folders for each conversation directly to your Drive.
    *   **Local Download**: Uses the browser's download manager to save files locally.
*   **Format Options**: Save conversations as Markdown (`.md`) or PDF (`.pdf`).
## ğŸ“‚ Data Organization

Artifact Sync keeps your data structured and easy to find. Whether using Google Drive or Local Storage, the folder structure is identical:

```text
[Root Folder] (Default: "Artifact Sync")
  â””â”€â”€ [AI Provider] (e.g. "Gemini", "ChatGPT")
      â””â”€â”€ [Conversation Title]
            â”œâ”€â”€ artifacts/        <-- Captured images/diagrams from the AI
            â”œâ”€â”€ attachments/      <-- Files you uploaded to the AI
            â”œâ”€â”€ pdfs/             <-- (If PDF mode enabled)
            â””â”€â”€ My_Prompt_123.md  <-- The conversation log
```

*   **Artifacts**: Any image generated by the AI is automatically downloaded here.
*   **Attachments**: Any image you upload to the chat context is mirrored here.
*   **Conversation Log**:
    *   **Markdown Mode (Default)**: Creates a `.md` file for every turn containing the full context:
        1.  **User Prompt**: The text you entered.
        2.  **Attachments**: References to any files you uploaded.
        3.  **AI Response**: The complete text response from the AI.
        4.  **Artifacts**: Any text, code, or ASCII artifacts are embedded directly in the file. Visual artifacts (images) are linked.
    *   **PDF Mode**: Stored in the `pdfs/` subfolder. It follows the **exact same sequence** as the Markdown file (Prompt â†’ Attachments â†’ Response â†’ Artifacts), ensuring you have a readable, linear record of the conversation.


*   **Browser Dependency**: The extension relies on the DOM structure of the AI provider's web interface. If Gemini or ChatGPT significantly changes their HTML layout, the scraper may break until updated.
*   **Local File Organization**: When using the "Local" storage method with the default "Downloads" strategy, the extension is limited by Chrome's download API. It creates subfolders within your default Downloads directory but cannot write outside of it.
    > **ğŸ’¡ Tip (Workaround):** You can change your computer's default Download location in Chrome Settings (`chrome://settings/downloads`) to any specific drive or volume you want. Artifact Sync will then automatically save files to that new location.
*   **PDF Generation**: PDF generation is done client-side and may struggle with extremely long conversations or complex layouts.

### ğŸ›‘ Deprecated Support: Claude.ai

We attempted to support **Anthropic's Claude**, but it has been currently removed due to technical instability. 

**The Problem:**
Claude's interface for rendering artifacts (like React previews or images) uses a complex loading mechanism that made it difficult to reliably capture the *final* state of an artifact. 

During our tests, we encountered a persistent "race condition" where the extension would capture the artifact image before it had finished updating. This resulted in "stale" savesâ€”where a user would ask for a red square, the code would update, but the saved image would still be the previous blue circle. Despite implementing advanced `MutationObserver` logic and "settling timers" to wait for DOM stability, the image capture remained misaligned with the text content. 

Until a more reliable method for detecting Claude's internal "render complete" state is found, support has been disabled to prevent data corruption.

## ğŸ¤ Contributing

We welcome contributions! This project is open source and we encourage you to fork it, fix bugs, or add support for new providers.

See [CONTRIBUTING.md](CONTRIBUTING.md) for more details.

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
